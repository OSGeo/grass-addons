<h2>DESCRIPTION</h2>

<em>r.roughness.window.vector</em> calculates surface roughness in a
moving-window, as the orientation of vectors normal to surface planes.
<p>
In this script surface roughness is taken as the dispersion of vectors
normal to surface areas (pixels). Normal vectors are defined by
slope and aspect.
<p>
This script will create several temporary
maps, for the directional cosines in each direction (x,y,z), for the
sum of these cosines and vector strenght.
<p>
The options <it>compass</it>, <it>colatitude</it>, <it>xcos</it>,
<it>ycosm</it> and <it>zcos</it>
are created as temporary files each time the script is run. If the user
wants to create several map (with different window sizes, for
instance), it is recommended to create those maps with 
<it>r.mapcalc</it> and use them as input:
<p>
<div class = "code"><pre>
r.mapcalc "compass    = if(aspect==0.,0.,if(aspect &lt; 90., 90. - aspect, 360. + 90. - aspect))"
r.mapcalc "colatitude = 90. - slope"
r.mapcalc "xcos       = sin(colatitude)*cos(compass)"
r.mapcalc "ycos       = sin(colatitude)*sin(compass)"
r.mapcalc "zcos       = cos(colatitude)"
</pre></div>

If the user does not specify the output maps names, they will be set to 
<it>INPUT_MAP_vector_strength_NxN</it> and<it>INPUT_MAP_fisher_K_NxN</it>
<br>
where N is the window size.

<h2>REFERENCES</h2>

Hobson, R.D., 1972. Surface roughness in topography: quantitative approach.
In: Chorley, R.J. (ed) <it>Spatial analysis in geomorphology</it>. Methuer,
London, p.225-245.
<p>
McKean, J. &amp; Roering, J., 2004. <it>Objective landslide detection and
surface morphology mapping using high-resolution airborne laser altimetry
Geomorphology</it>, 57:331-351

<h2>AUTHOR</h2>

Carlos Henrique Grohmann<br>
Institute of Geosciences, University of São Paulo, Brazil.

<p><i>Last changed: $Date$</i>
