<h2>OPTIONS</h2>
<dl>
<dt><b>-s</b></dt>
<dd>Increase convergence if slope value is high. Slope parameter radically slow down computation time, especially if window parameter is high. If slope is used addational modifier is used according to formula: sin(current)*sin(target) + cos(current)*cos(target). if slope of current and target cells are equal. The modifier is 1. If not, the modifier is applied with formula: acos(cos(convergence) * modifier)  </dd>
<dt><b>-c</b></dt>
<dd>use circular window instead of suqare (default)</dd>

<dt><b>input</b></dt>
<dd>Digital elevation model. Data can be of any type and any projection. To calculate relief convergnece, r.convergence uses real distance which is recalculated into cell distance, according formula: <br><code>distance_between_current_cell_and_traget_cell/distance_between_current_cell_and_nearest_neighbour_cell.</code> It is important if convergence is calculated for large areas in LatLong projecton.
</dd>

<dt><b>weights</b></dt>
<dd>Parameter describing the reduction of the impact of the cell due to its distance, where distance in cells:
<ul>
<li><b>standard:</b>no decay
<li><b>inverse:</b>distance modifier is calculated as 1/x
<li><b>power:</b>distance modifier is calculated as 1/(x*x)
<li><b>power:</b>distance modifier is calculated as 1/(x*x)
<li><b>gentle:</b>distance modifier is calculated as 1/((1-x)/(1+x))
</ul>

<dt><b>window</b></dt>
<dd>window size. Must be odd. For now there is no limits in window size. r.convergence uses window size instead of classical radius for compatibility with other GRASS programs.</dd>


<dt><b>output</b></dt>
<dd>Map of convergence index. The values ranges from -100 (max divergent, real peaks and ridges) by 0 (planar areas) to 100 (max convergent, real pits and channels). Classical convergence index presented with degrees (-90 to 90)</dd>


<h2>DESCRIPTION</h2>

<h3>How convergence index is calculated (3 x 3 window):</h3>
<center>
<img src="conv.png" border="1"><br>
</center>
Convergence index is a terrain parameter which show the structure of 
the relief as a set of convergent areas (channels) and divergent areas 
(ridges). It represents the agreement of aspect direction of 
surrounding cells with the teoretical matrix direction. Convergence 
index is mean (or weighted mean if weights are used) aspect difference 
between real aspect and teoretical maximum divergent direction matrix 
representing ideal peak (see figure) minus 90 degres. So if there is 
maximum agreement with divergent matrix the convergence index is (0 - 
90) * 10/9 = -100. If there is ideal sink (maximum convergence) the 
convergence index is (180 -90) * 10/9 = 100. Slope and aspect ere 
calculated internaly with the same formula as in r.slope.aspect 
Convergence index is very useful for analysis of lineamets especially 
represented by rigdes or chanell systems as well as valley recognition 
tool.


<h2>SEE ALSO</h2>

<em>
<a href="r.slope.aspect.html">r.slope.aspect</a>,
<a href="r.param.scale.html">r.param.scale</a>,
<a href="r.neighbour.html">r.neighbour</a>,
</em>


<h2>REFERENCES</h2>
<p>
Claps, P., Fiorentino, M., Oliveto, G., (1994), <i>Informational entropy of fractal river networks</i>,
Journal of Hydrology, 187(1-2), 145-156 .</p>
<p>
Bauer J., Rohdenburg H., Bork H.-R., (1985), Ein Digitales Reliefmodell als Vorraussetzung fuer ein deterministisches Modell der Wasser- und Stoff-Fluesse, <i>IN: Bork, H.-R., Rohdenburg, H., Landschaftsgenese und Landschaftsoekologie, Parameteraufbereitung fuer deterministische Gebiets-Wassermodelle, Grundlagenarbeiten zu Analyse von Agrar-Oekosystemen</i>, 1-15.
<p>
Böhner J., Blaschke T., Montanarella, L. (eds.) (2008). SAGA Seconds Out. Hamburger Beiträge zur Physischen Geographie und Landschaftsökologie, 19: 113 s.</p>

<h2>AUTHOR</h2>
Jarek Jasiewicz

<!--
<p>
<i>Last changed: $Date$</i>
-->
