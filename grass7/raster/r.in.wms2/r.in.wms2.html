<h2>DESCRIPTION</h2>

<em>r.in.wms2</em> handles all of downloading and importing raster
data from an <a href="http://www.opengeospatial.org/standards/wms">OGC
WMS</a> web mapping server. It need only be told the desired data to
collect (bounds and resolution) via a region, the server to get the
data from, and the layer or layers to get. It downloads the data in
tiles, reprojects it, imports it, and patches it back together.

<h2>NOTES</h2>

<!--
By default data is downloaded to <tt>$GISDBASE/wms_download</tt>. This can be changed
by setting the <b>folder</b> option when using <em>r.in.wms</em>.
-->

<p>To understand the data you are getting it is necessary to look at the
capabilities of the WMS server. This should be available via a capabilities
request. This is an
<a href="http://wms.jpl.nasa.gov/wms.cgi?request=GetCapabilities">example
capabilities request to NASA's OnEarth server</a>.

<h2>EXAMPLES</h2>

<h3>General Get Capabilities Request</h3>

A capabilities request like
<a href="http://wms.jpl.nasa.gov/wms.cgi?request=GetCapabilities">http://wms.jpl.nasa.gov/wms.cgi?request=GetCapabilities</a>
is where you should start. It tells you what data is offered, the projections
it is in,  where to find meta data, resolutions, scales, and bounds for
data, etc.

E.g. lists the layers available from the NASA OnEarth server.

<div class="code"><pre>
r.in.wms2 mapserver=http://wms.jpl.nasa.gov/wms.cgi -l
</pre></div>

<h3>US NED Elevation from OnEarth server download (metric units)</h3>

Set the resolution to 30 (assuming you're in metric units):
<div class="code"><pre>
g.region res=30 -ap
r.in.wms2 output=elevation_meters mapserver=http://wms.jpl.nasa.gov/wms.cgi \
         layers=us_ned styles=real
</pre></div>

<h3>US NED Elevation from OnEarth server download (feet units)</h3>

Set the resolution to 90 (assuming you're in feet units) a save this
region with a name; this makes resuming downloads possible or rather
easier:

<div class="code"><pre>
g.region res=90 -ap
g.region save=panhandle-90ft

r.in.wms2 output=elevation_feet mapserver=http://wms.jpl.nasa.gov/wms.cgi \
         layers=us_ned styles=feet_real region=panhandle-90ft
</pre></div>

Downloads real number feet elevation from OnEarth to cover the current
region. 

<h3>LANDSAT from OnEarth server download</h3>

Set the resolution to 30 meters for LANDSAT:
<div class="code"><pre>
g.region res=30 -ap
r.in.wms2 layers=global_mosaic mapserver=http://wms.jpl.nasa.gov/wms.cgi \
         output=wms_global_mosaic
</pre></div>
Downloads LANDSAT color scene.


<h3>DRG from Terraserver server download</h3>

Set the resolution to 1.2 meters for DRGs. Their native resolution is
2.4 meters, so this is some pretty hefty oversampling:

<div class="code"><pre>
g.region res=1.2 -ap
g.region save=drg-resolution

r.in.wms2 output=terraserver-drg mapserver=http://terraserver.microsoft.com/ogcmap6.ashx \
         layers=DRG region=drg-resolution format=jpeg srs=EPSG:26910
</pre></div>

Downloads digital raster graphics from Microsoft TerraServer. Note that
srs will need to be changed to a projection that is appropriate for your
region.

<h2>SEE ALSO</h2>

<em>
  <a href="r.in.gdal.html">r.in.gdal</a>,
  <a href="r.patch.html">r.patch</a>,
  <a href="r.colors.html">r.colors</a>,
  <a href="r.composite.html">r.composite</a>,
  <a href="v.in.wfs.html">v.in.wfs</a>
</em>

<h2>AUTHORS</h2>

Stepan Turek, Czech Technical University in Prague, Czech Republic

<p>
<i>Last changed: $Date$</i>
